---
title: "Fullstack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Nextjs"
category: "Nextjs"
---

## üõ†Ô∏è 1. API (–±—ç–∫–µ–Ω–¥ –≤–Ω—É—Ç—Ä–∏ Next.js)

### üìå –í–∞—Ä–∏–∞–Ω—Ç —Å `pages/` (Pages Router)

–°–æ–∑–¥–∞—ë—à—å —Ñ–∞–π–ª—ã –≤ `pages/api/`.
–ù–∞–ø—Ä–∏–º–µ—Ä `pages/api/users.js`:

```js
// pages/api/users.js
export default function handler(req, res) {
  if (req.method === "GET") {
    res.status(200).json([{ id: 1, name: "John" }]);
  } else if (req.method === "POST") {
    const user = req.body;
    res.status(201).json({ message: "User created", user });
  }
}
```

–î–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ `/api/users`

---

### üìå –í–∞—Ä–∏–∞–Ω—Ç —Å `app/` (App Router, Next 13+)

–ó–¥–µ—Å—å API —Å–æ–∑–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `app/api/*/route.js`:

```js
// app/api/users/route.js
export async function GET() {
  return Response.json([{ id: 1, name: "Alice" }]);
}

export async function POST(req) {
  const data = await req.json();
  return Response.json({ message: "User created", user: data });
}
```

üëâ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ `/api/users`.

---

## üõ†Ô∏è 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

Next –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç ‚Äî –º–æ–∂–Ω–æ –≤–æ—Ç–∫–Ω—É—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ:

- **Prisma** (SQL/NoSQL, —É–¥–æ–±–Ω—ã–π ORM)
- **Mongoose** (–µ—Å–ª–∏ MongoDB)
- –ü—Ä—è–º–æ–π `pg` –¥—Ä–∞–π–≤–µ—Ä (Postgres)
- Supabase, Firebase –∏ —Ç.–¥.

–ü—Ä–∏–º–µ—Ä —Å Prisma –∏ Postgres (`app/api/users/route.js`):

```js
import { PrismaClient } from "@prisma/client";
const prisma = new PrismaClient();

export async function GET() {
  const users = await prisma.user.findMany();
  return Response.json(users);
}

export async function POST(req) {
  const data = await req.json();
  const newUser = await prisma.user.create({ data });
  return Response.json(newUser);
}
```

---

## üõ†Ô∏è 3. –ê–¥–º–∏–Ω–∫–∞

–¢—É—Ç –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

### üîπ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ –≤–Ω—É—Ç—Ä–∏ Next

–ü—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π `app/admin/page.js` –∏–ª–∏ `pages/admin.js`, –∏ –∑–∞—â–∏—â–∞–π –µ—ë –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ **NextAuth.js**):

```jsx
// app/admin/page.js
"use client";
import { useSession } from "next-auth/react";

export default function AdminPage() {
  const { data: session } = useSession();

  if (!session) return <p>Access denied</p>;

  return <h1>Welcome to Admin Panel, {session.user.name}</h1>;
}
```

---

### üîπ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π

- **React Admin** ‚Äî –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä—è–º–æ –≤ Next.
- **KeystoneJS** –∏–ª–∏ **Strapi** ‚Äî –∫–∞–∫ headless CMS + –∞–¥–º–∏–Ω–∫–∞ (—Å—Ç–∞–≤—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ, Next –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç API).
- **Sanity** ‚Äî CMS —Å –∞–¥–º–∏–Ω–∫–æ–π.

---

## üõ†Ô∏è 4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **NextAuth.js** ‚Üí —Å–∞–º–æ–µ –ø–æ–ø—É–ª—è—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è OAuth, JWT, —Å–µ—Å—Å–∏–π.
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è auth ‚Üí –º–æ–∂–Ω–æ —Å–∞–º–æ–º—É —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã/—Å–µ—Å—Å–∏–∏ –≤ –±–∞–∑–µ –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö –≤ `middleware.js`.

---

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∫–∏

---

## üìÇ 1. –ú–æ–¥—É–ª–∏ (—É—Ç–∏–ª–∏—Ç—ã, —Ö–µ–ª–ø–µ—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã)

–í—Å–µ —Ç–≤–æ–∏ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `utils.js`, `api.js`, `auth.js`) –ª—É—á—à–µ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤ –ø–∞–ø–∫—É `lib/` –∏–ª–∏ `utils/` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

```
my-next-app/
 ‚îú‚îÄ app/ (–∏–ª–∏ pages/)
 ‚îú‚îÄ components/
 ‚îú‚îÄ lib/        <-- —É—Ç–∏–ª–∏—Ç—ã –∏ –º–æ–¥—É–ª–∏
 ‚îÇ   ‚îú‚îÄ api.js
 ‚îÇ   ‚îú‚îÄ auth.js
 ‚îÇ   ‚îî‚îÄ helpers.js
 ‚îú‚îÄ public/
 ‚îî‚îÄ ...
```

üëâ –¢–∞–∫ –ø—Ä–∏–Ω—è—Ç–æ –≤ Next, –∏ —ç—Ç–æ –¥–∞—ë—Ç —á–∏—Å—Ç–æ—Ç—É –≤ –∏–º–ø–æ—Ä—Ç–∞—Ö:

```js
import { fetchData } from "@/lib/api";
```

---

## üìÇ 2. Layout‚Äô—ã (–æ–±—â–∏–µ –∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ)

### –í **Pages Router (`pages/`)**

–ì–ª–æ–±–∞–ª—å–Ω—ã–π layout ‚Üí `pages/_app.js`.
–ß–∞—Å—Ç–∏—á–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `DashboardLayout`) –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ `components/layouts/`.

```jsx
// components/layouts/DashboardLayout.js
export default function DashboardLayout({ children }) {
  return (
    <div className="dashboard">
      <aside>Sidebar</aside>
      <main>{children}</main>
    </div>
  );
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```jsx
// pages/dashboard.js
import DashboardLayout from "@/components/layouts/DashboardLayout";

export default function DashboardPage() {
  return (
    <DashboardLayout>
      <h1>Dashboard</h1>
    </DashboardLayout>
  );
}
```

---

### –í **App Router (`app/`)**

Layout –≤—Å—Ç—Ä–æ–µ–Ω –≤ —Å–∞–º —Ä–æ—É—Ç:

```
app/
 ‚îú‚îÄ layout.js      <-- –≥–ª–æ–±–∞–ª—å–Ω—ã–π layout
 ‚îú‚îÄ dashboard/
 ‚îÇ   ‚îú‚îÄ layout.js  <-- layout —Ç–æ–ª—å–∫–æ –¥–ª—è dashboard
 ‚îÇ   ‚îî‚îÄ page.js
 ‚îî‚îÄ about/
     ‚îî‚îÄ page.js
```

–ü—Ä–∏–º–µ—Ä:

```jsx
// app/dashboard/layout.js
export default function DashboardLayout({ children }) {
  return (
    <div className="dashboard">
      <aside>Sidebar</aside>
      <main>{children}</main>
    </div>
  );
}
```

üëâ –í—Å—ë, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ `/dashboard/*` –±—É–¥–µ—Ç –æ–±—ë—Ä–Ω—É—Ç–æ —ç—Ç–∏–º layout‚Äô–æ–º.

---

## üìÇ 3. JSON (–¥–∞–Ω–Ω—ã–µ, –∫–æ–Ω—Ñ–∏–≥–∏)

–¢—É—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ç–æ–≥–æ, **–¥–ª—è —á–µ–≥–æ JSON**:

- **–°—Ç–∞—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤)** ‚Üí –∫–ª–∞–¥–∏ –≤ `public/data/` –∏–ª–∏ `lib/data/`.

  ```js
  import products from "@/lib/data/products.json";
  ```

  –ï—Å–ª–∏ –≤ `public/`, –º–æ–∂–Ω–æ –≥—Ä—É–∑–∏—Ç—å —á–µ—Ä–µ–∑ fetch:

  ```js
  const res = await fetch("/data/products.json");
  const products = await res.json();
  ```

- **–ö–æ–Ω—Ñ–∏–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)** ‚Üí `config/` –∏–ª–∏ `lib/config/`.

- **–î–∞–Ω–Ω—ã–µ, –∫–∞–∫ API** ‚Üí –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å JSON –≤ `public/` –∏ –æ—Ç–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ `/data/file.json`.

---

## üìÇ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø—Ä–∏–º–µ—Ä)

```
my-next-app/
 ‚îú‚îÄ app/ (–∏–ª–∏ pages/)      # —Å—Ç—Ä–∞–Ω–∏—Ü—ã
 ‚îú‚îÄ components/            # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
 ‚îÇ   ‚îî‚îÄ layouts/           # layout‚Äô—ã
 ‚îú‚îÄ lib/                   # —É—Ç–∏–ª–∏—Ç—ã, –º–æ–¥—É–ª–∏
 ‚îÇ   ‚îú‚îÄ api.js
 ‚îÇ   ‚îú‚îÄ helpers.js
 ‚îÇ   ‚îî‚îÄ data/
 ‚îÇ       ‚îî‚îÄ products.json
 ‚îú‚îÄ public/                # —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–∫–∞—Ä—Ç–∏–Ω–∫–∏, json –¥–ª—è fetch)
 ‚îú‚îÄ config/                # –∫–æ–Ω—Ñ–∏–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
 ‚îú‚îÄ styles/                # CSS/SCSS/Tailwind
 ‚îî‚îÄ ...
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Next

```
app/
 ‚îú‚îÄ layout.js          # –≥–ª–æ–±–∞–ª—å–Ω—ã–π layout (NavBar, Footer, <head>)
 ‚îú‚îÄ page.js            # /
 ‚îú‚îÄ about/
 ‚îÇ   ‚îî‚îÄ page.js        # /about
 ‚îú‚îÄ beats/
 ‚îÇ   ‚îî‚îÄ page.js        # /beats
 ‚îú‚îÄ discography/
 ‚îÇ   ‚îî‚îÄ page.js        # /discography
 ‚îú‚îÄ albums/
 ‚îÇ   ‚îî‚îÄ page.js        # /albums
 ‚îú‚îÄ video/
 ‚îÇ   ‚îî‚îÄ page.js        # /video
 ‚îú‚îÄ contact/
 ‚îÇ   ‚îî‚îÄ page.js        # /contact
components/
 ‚îú‚îÄ NavBar.js
 ‚îú‚îÄ Footer.js
layouts/
 ‚îú‚îÄ DefaultLayout.js
 ‚îî‚îÄ HomeLayout.js
```

---

## üìù –ì–ª–æ–±–∞–ª—å–Ω—ã–π layout (`app/layout.js`)

–≠—Ç–æ —Ç–≤–æ–π –∑–∞–º–µ–Ω–∏—Ç–µ–ª—å `App.js`:

```jsx
// app/layout.js
import "./globals.css";
import NavBar from "@/components/NavBar";
import Footer from "@/components/Footer";

export const metadata = {
  title: "Music Artist | Musician. Producer. Beatmaker",
  description: "Music artist website built with Next.js",
};

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>
        <NavBar />
        {children}
        <Footer />
      </body>
    </html>
  );
}
```

üëâ –ó–¥–µ—Å—å —É–∂–µ –Ω–µ –Ω—É–∂–µ–Ω `useEffect` –¥–ª—è `document.title` ‚Äî —É Next –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ `metadata`.

---

## üìù –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å HomeLayout

```jsx
// app/page.js
import HomeLayout from "@/layouts/HomeLayout";
import Home from "@/pages/Home";

export default function Page() {
  return (
    <HomeLayout>
      <Home />
    </HomeLayout>
  );
}
```

---

## üìù –î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å DefaultLayout

–ù–∞–ø—Ä–∏–º–µ—Ä `/about`:

```jsx
// app/about/page.js
import DefaultLayout from "@/layouts/DefaultLayout";
import About from "@/pages/About";

export default function Page() {
  return (
    <DefaultLayout>
      <About />
    </DefaultLayout>
  );
}
```

–¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ –¥–µ–ª–∞–µ—à—å –¥–ª—è `/beats`, `/discography`, `/albums`, `/video`, `/contact`.

---

## TS –∏ global.css

---

### ‚úÖ –ü–æ—á–µ–º—É —Ç–∞–∫?

TypeScript –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å `.css` / `.scss` / `.svg` / `.png` –∏ —Ç.–ø. ‚Äî –æ–Ω —É–º–µ–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–æ–ª—å–∫–æ TS/JS.
–†–µ—à–µ–Ω–∏–µ: –Ω—É–∂–Ω–æ –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, —á—Ç–æ —ç—Ç–∏ –∏–º–ø–æ—Ä—Ç—ã –≤–∞–ª–∏–¥–Ω—ã.

---

### üîπ –†–µ—à–µ–Ω–∏–µ

–°–æ–∑–¥–∞–π –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª `global.d.ts` (–∏–ª–∏ `declarations.d.ts`) –∏ –¥–æ–±–∞–≤—å —Ç—É–¥–∞:

```ts
// global.d.ts
declare module "*.css";
declare module "*.scss";
declare module "*.sass";
```

---

### üîπ –ü—Ä–æ–≤–µ—Ä–∫–∞ `tsconfig.json`

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–≤–æ–π `tsconfig.json` –≤–∏–¥–∏—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª. –û–±—ã—á–Ω–æ Next –¥–æ–±–∞–≤–ª—è–µ—Ç `**/*.d.ts` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –¥–æ–±–∞–≤—å:

```json
{
  "compilerOptions": {
    "strict": true,
    "jsx": "preserve",
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "esModuleInterop": true,
    "allowJs": true,
    "forceConsistentCasingInFileNames": true,
    "skipLibCheck": true
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", "**/*.d.ts"],
  "exclude": ["node_modules"]
}
```

---

### üîπ –§–∞–π–ª `globals.css`

–£–±–µ–¥–∏—Å—å, —á—Ç–æ —É —Ç–µ–±—è —Ä–µ–∞–ª—å–Ω–æ –µ—Å—Ç—å —Ñ–∞–π–ª:

```
/app/globals.css
```

–∏–ª–∏

```
/src/app/globals.css
```

üëâ –ï—Å–ª–∏ –æ–Ω –ª–µ–∂–∏—Ç –≤ `src/app/`, —Ç–æ –∏–º–ø–æ—Ä—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `import "../globals.css";` –∏–∑ `layout.tsx`.

---

### üîπ –ë—ã—Å—Ç—Ä—ã–π —Ñ–∏–∫—Å (–µ—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å –≤–æ–∑–∏—Ç—å—Å—è —Å —Ç–∏–ø–∞–º–∏)

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `"skipLibCheck": true` –≤ `tsconfig.json` (—á–∞—Å—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É Next). –≠—Ç–æ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ —É –∏–º–ø–æ—Ä—Ç–æ–≤ `.css`.

---

## –ê–¥–º–∏–Ω–∫–∞

---

## üîπ –í–∞—Ä–∏–∞–Ω—Ç 1. **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ –≤ Next**

–¢—ã –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞–µ—à—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç `/admin` –≤–Ω—É—Ç—Ä–∏ `app/` –∏–ª–∏ `pages/`, –∏ —ç—Ç–æ –±—É–¥–µ—Ç –∞–¥–º–∏–Ω–∫–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```
app/
 ‚îú‚îÄ admin/
 ‚îÇ   ‚îú‚îÄ layout.tsx   # –æ–±—â–∏–π layout –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
 ‚îÇ   ‚îî‚îÄ page.tsx     # –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–¥–º–∏–Ω–∫–∏
```

**–ü—Ä–∏–º–µ—Ä:**

```tsx
// app/admin/layout.tsx
"use client";

import { useSession } from "next-auth/react"; // –µ—Å–ª–∏ –±—É–¥–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
import type { ReactNode } from "react";

export default function AdminLayout({ children }: { children: ReactNode }) {
  const { data: session } = useSession();

  if (!session) return <p>Access denied</p>; // –∑–∞—â–∏—Ç–∞

  return (
    <div className="admin-layout">
      <aside>Sidebar (–º–µ–Ω—é –∞–¥–º–∏–Ω–∫–∏)</aside>
      <main>{children}</main>
    </div>
  );
}
```

```tsx
// app/admin/page.tsx
export default function AdminPage() {
  return <h1>–ê–¥–º–∏–Ω–∫–∞ ‚Äî Dashboard</h1>;
}
```

üëâ –£ —Ç–µ–±—è –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∑–∞—â–∏—â—ë–Ω–Ω–∞—è –∑–æ–Ω–∞ `/admin`.

---

## üîπ –í–∞—Ä–∏–∞–Ω—Ç 2. **–ê–¥–º–∏–Ω–∫–∞ —á–µ—Ä–µ–∑ headless CMS**

–ï—Å–ª–∏ —Ç–µ–±–µ –Ω—É–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–µ–∫—Å—Ç—ã, –∫–∞—Ä—Ç–∏–Ω–∫–∏, —Ç–æ–≤–∞—Ä—ã –∏ —Ç.–¥.), –∞ –Ω–µ –∫–æ–¥ —Ä—É–∫–∞–º–∏:

- **Strapi** ‚Äî –ø–æ–¥–Ω–∏–º–µ—à—å –±—ç–∫–µ–Ω–¥ —Å –∞–¥–º–∏–Ω–∫–æ–π –∏ API (GraphQL/REST).
- **Sanity** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ + API.
- **KeystoneJS** ‚Äî Node.js CMS —Å –∫—Ä–∞—Å–∏–≤–æ–π –∞–¥–º–∏–Ω–∫–æ–π.

–¢–æ–≥–¥–∞ Next –ø—Ä–æ—Å—Ç–æ —Ç—è–Ω–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ API:

```ts
const res = await fetch("http://localhost:1337/api/posts");
const posts = await res.json();
```

---

## üîπ –í–∞—Ä–∏–∞–Ω—Ç 3. **React Admin (–≥–æ—Ç–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)**

[React Admin](https://marmelab.com/react-admin/) –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω—É—Ç—Ä—å `/admin` —Ä–æ—É—Ç–µ—Ä–∞. –û–Ω –¥–∞—ë—Ç —Ç–∞–±–ª–∏—Ü—ã, CRUD, —Ñ–∏–ª—å—Ç—Ä—ã.

–ü—Ä–∏–º–µ—Ä:

```tsx
// app/admin/page.tsx
"use client";

import { Admin, Resource, ListGuesser } from "react-admin";
import simpleRestProvider from "ra-data-simple-rest";

export default function AdminPage() {
  return (
    <Admin dataProvider={simpleRestProvider("/api")}>
      <Resource name="users" list={ListGuesser} />
      <Resource name="posts" list={ListGuesser} />
    </Admin>
  );
}
```

---

## üîê –í–∞–∂–Ω–æ–µ: –∑–∞—â–∏—Ç–∞ –∞–¥–º–∏–Ω–∫–∏

- **NextAuth.js** ‚Äî –ª—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Google, GitHub, JWT, Email).
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `middleware.ts`, —á—Ç–æ–±—ã –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö:

```ts
// middleware.ts
import { getToken } from "next-auth/jwt";
import { NextResponse } from "next/server";

export async function middleware(req: Request) {
  const token = await getToken({ req });
  const url = new URL(req.url);

  if (url.pathname.startsWith("/admin") && !token) {
    return NextResponse.redirect(new URL("/api/auth/signin", req.url));
  }
  return NextResponse.next();
}
```

---

## Backend

---

## üîπ –ì–¥–µ –ø–∏—Å–∞—Ç—å –±—ç–∫–µ–Ω–¥ –≤ Next.js?

### 1. **App Router (–Ω–æ–≤—ã–π, `app/`)**

API —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ –ø–∞–ø–∫–µ `app/api/*/route.ts`.
–ö–∞–∂–¥—ã–π `route.ts` = endpoint.

**–ü—Ä–∏–º–µ—Ä:**

```
app/
 ‚îú‚îÄ api/
 ‚îÇ   ‚îú‚îÄ users/
 ‚îÇ   ‚îÇ   ‚îî‚îÄ route.ts
 ‚îÇ   ‚îî‚îÄ posts/
 ‚îÇ       ‚îî‚îÄ route.ts
```

```ts
// app/api/users/route.ts
import { NextResponse } from "next/server";

export async function GET() {
  return NextResponse.json([{ id: 1, name: "Alice" }]);
}

export async function POST(req: Request) {
  const body = await req.json();
  return NextResponse.json({ message: "User created", user: body });
}
```

üëâ –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –µ—Å—Ç—å API –ø–æ –∞–¥—Ä–µ—Å—É `/api/users`.

---

### 2. **Pages Router (—Å—Ç–∞—Ä—ã–π, `pages/`)**

–ï—Å–ª–∏ —É —Ç–µ–±—è `pages/`, —Ç–æ API –¥–µ–ª–∞–µ—Ç—Å—è –≤ `pages/api/*`.

```ts
// pages/api/users.ts
import type { NextApiRequest, NextApiResponse } from "next";

export default function handler(req: NextApiRequest, res: NextApiResponse) {
  if (req.method === "GET") {
    res.status(200).json([{ id: 1, name: "Bob" }]);
  } else if (req.method === "POST") {
    res.status(201).json({ message: "User created" });
  }
}
```

---

## üîπ –ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ë–î?

–î–∞, –±–µ–∑ –ø—Ä–æ–±–ª–µ–º:

- **Prisma** (Postgres, MySQL, SQLite, MongoDB)
- **Mongoose** (MongoDB)
- **node-postgres (`pg`)**
- **Drizzle ORM** (–ª—ë–≥–∫–∏–π ORM, –æ—á–µ–Ω—å –º–æ–¥–Ω—ã–π —Å–µ–π—á–∞—Å)

**–ü—Ä–∏–º–µ—Ä (Prisma):**

```ts
// app/api/users/route.ts
import { PrismaClient } from "@prisma/client";
import { NextResponse } from "next/server";

const prisma = new PrismaClient();

export async function GET() {
  const users = await prisma.user.findMany();
  return NextResponse.json(users);
}

export async function POST(req: Request) {
  const data = await req.json();
  const newUser = await prisma.user.create({ data });
  return NextResponse.json(newUser);
}
```

---

## üîπ –ü–ª—é—Å—ã –ø–æ–¥—Ö–æ–¥–∞ ¬´–±—ç–∫–µ–Ω–¥ –≤ —Ç–æ–º –∂–µ —Ä–µ–ø–æ¬ª

‚úÖ –û–¥–∏–Ω –∫–æ–¥–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî –ª–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.
‚úÖ –ù–µ—Ç CORS ‚Äî —Ñ—Ä–æ–Ω—Ç –∏ –±—ç–∫ –≤ –æ–¥–Ω–æ–º –¥–æ–º–µ–Ω–µ.
‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (API –≥–æ—Ç–æ–≤ —Å—Ä–∞–∑—É).
‚úÖ –ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel / Netlify –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

---

## üîπ –ú–∏–Ω—É—Å—ã

‚ö†Ô∏è –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –æ—á–µ–Ω—å —Ç—è–∂—ë–ª—ã–π (–æ–≥—Ä–æ–º–Ω–æ–µ API, –æ—á–µ—Ä–µ–¥–∏, WebSocket-—ã), –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—É—á—à–µ –≤—ã–Ω–µ—Å—Ç–∏ –µ–≥–æ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å.
‚ö†Ô∏è –õ–∏–º–∏—Ç—ã serverless (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É Vercel –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π).

---

## –ë–î

---

## üîπ –í–∞—Ä–∏–∞–Ω—Ç 1. **–ú–æ–∫-–¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ –≤ –∫–æ–¥–µ**

–¢—ã —É–∂–µ —Ç–∞–∫ –¥–µ–ª–∞–ª ‚Äî `lorem ipsum`, `12345`, –º–∞—Å—Å–∏–≤—ã.

```tsx
const users = [
  { id: 1, name: "Alice", email: "alice@test.com" },
  { id: 2, name: "Bob", email: "bob@test.com" },
];
```

‚úÖ –ë—ã—Å—Ç—Ä–æ
‚úÖ –ù–∏—á–µ–≥–æ –Ω–µ –ª–æ–º–∞–µ—Ç—Å—è
‚ùå –ù–µ—Ç –æ—â—É—â–µ–Ω–∏—è ‚Äú—Ä–µ–∞–ª—å–Ω–æ–π –ë–î‚Äù
‚ùå –ü—Ä–∏–¥—ë—Ç—Å—è —Ä—É–∫–∞–º–∏ –ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

---

## üîπ –í–∞—Ä–∏–∞–Ω—Ç 2. **–§–µ–π–∫–æ–≤–∞—è –ë–î (SQLite/Postgres) —á–µ—Ä–µ–∑ ORM**

–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å **Prisma** –∏ –∑–∞–≤–µ—Å—Ç–∏ SQLite-—Ñ–∞–π–ª (`db.sqlite`) –ø—Ä—è–º–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ.

**–ü—Ä–∏–º–µ—Ä:**

1. –£—Å—Ç–∞–Ω–æ–≤–∏–ª Prisma:

```bash
npm install prisma @prisma/client
npx prisma init --datasource-provider sqlite
```

2. `prisma/schema.prisma`:

```prisma
model User {
  id    Int     @id @default(autoincrement())
  name  String
  email String  @unique
}
```

3. –ü—Ä–æ–≥–Ω–∞–ª –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
npx prisma migrate dev --name init
```

4. –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ API:

```ts
// app/api/users/route.ts
import { PrismaClient } from "@prisma/client";
import { NextResponse } from "next/server";

const prisma = new PrismaClient();

export async function GET() {
  const users = await prisma.user.findMany();
  return NextResponse.json(users);
}
```

‚úÖ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ (–∑–∞–ø—Ä–æ—Å—ã, CRUD, —Ç–∏–ø—ã)
‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –ø—Ä–æ–∫–∞—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤
‚ùå –ß—É—Ç—å –¥–æ–ª—å—à–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å, —á–µ–º –º–æ–∫-–¥–∞–Ω–Ω—ã–µ

---

## üîπ –í–∞—Ä–∏–∞–Ω—Ç 3. **–§–µ–π–∫–æ–≤—ã–π API –±–µ–∑ –ë–î**

–ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å [JSON Server](https://github.com/typicode/json-server).
–¢—ã –∑–∞–≤–æ–¥–∏—à—å `db.json` ‚Üí –∏ –æ–Ω –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Ñ–µ–π–∫–æ–≤—ã–π REST API.

```json
{
  "users": [
    { "id": 1, "name": "Alice" },
    { "id": 2, "name": "Bob" }
  ]
}
```

–ó–∞–ø—É—Å–∫:

```bash
npx json-server --watch db.json --port 4000
```

–¢–µ–ø–µ—Ä—å –≤ Next –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å:

```ts
const res = await fetch("http://localhost:4000/users");
const users = await res.json();
```

‚úÖ –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ
‚úÖ –ü–æ—Ö–æ–∂–µ –Ω–∞ ‚Äú—Ä–µ–∞–ª—å–Ω—ã–π‚Äù –±—ç–∫–µ–Ω–¥
‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å, –ª–∏—à–Ω–∏–π –¥–ª—è MVP

---

## –ú–∞–≥–∞–∑–∏–Ω

---

## üîπ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –≤ Next.js

### 1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü**

```
app/
 ‚îú‚îÄ shop/           ‚Üí —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
 ‚îÇ   ‚îú‚îÄ page.tsx
 ‚îÇ   ‚îî‚îÄ [id]/page.tsx   ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞
 ‚îú‚îÄ cart/page.tsx   ‚Üí –∫–æ—Ä–∑–∏–Ω–∞
 ‚îî‚îÄ checkout/page.tsx ‚Üí –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
```

### 2. **–î–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–∞—Ö**

–í–∞—Ä–∏–∞–Ω—Ç—ã:

- üü¢ –ù–∞ —Å—Ç–∞—Ä—Ç–µ: JSON / –º–æ–∫-–¥–∞–Ω–Ω—ã–µ (—Ç–∏–ø–∞ `products.json`).
- üü¢ –î–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏: SQLite + Prisma (`Product` –º–æ–¥–µ–ª—å).
- üü° –í –±—É–¥—É—â–µ–º: –ø–æ–¥–∫–ª—é—á–∏—Ç—å headless-CMS (Strapi, Sanity) –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ API.

–ü—Ä–∏–º–µ—Ä –º–æ–¥–µ–ª–∏ Prisma:

```prisma
model Product {
  id          Int      @id @default(autoincrement())
  name        String
  description String
  price       Float
  imageUrl    String
  createdAt   DateTime @default(now())
}
```

### 3. **API –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞**

```
app/api/products/route.ts      ‚Üí —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
app/api/cart/route.ts          ‚Üí –∫–æ—Ä–∑–∏–Ω–∞
app/api/orders/route.ts        ‚Üí –∑–∞–∫–∞–∑—ã
```

–ü—Ä–∏–º–µ—Ä `app/api/products/route.ts`:

```ts
import { NextResponse } from "next/server";
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

export async function GET() {
  const products = await prisma.product.findMany();
  return NextResponse.json(products);
}
```

### 4. **UI (React + TSX)**

- `/shop` ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ (—Å —Ñ–æ—Ç–æ, —Ü–µ–Ω–æ–π, –∫–Ω–æ–ø–∫–æ–π ‚Äú–≤ –∫–æ—Ä–∑–∏–Ω—É‚Äù).
- `/cart` ‚Üí —Å–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤.
- `/checkout` ‚Üí —Ñ–æ—Ä–º–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã.

---

## üîπ –û–ø–ª–∞—Ç–∞ (–≥–ª–∞–≤–Ω—ã–π –º–æ–º–µ–Ω—Ç)

–£ —Ç–µ–±—è 3 –ø—É—Ç–∏:

### üü¢ Stripe (—Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π)

- –ü–ª–∞—Ç–µ–∂–∏ –ø–æ –∫–∞—Ä—Ç–µ, Apple Pay, Google Pay.
- –ï—Å—Ç—å Next.js SDK (`@stripe/stripe-js`).
- –î–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–º—É–∑—ã–∫–∞, –ø—Ä–µ—Å–µ—Ç—ã) –∏–¥–µ–∞–ª—å–Ω–æ.

–ü—Ä–∏–º–µ—Ä (–æ—á–µ–Ω—å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):

```ts
// app/api/checkout/route.ts
import { NextResponse } from "next/server";
import Stripe from "stripe";

const stripe = new Stripe(process.env.STRIPE_SECRET_KEY!);

export async function POST(req: Request) {
  const { items } = await req.json();
  const session = await stripe.checkout.sessions.create({
    payment_method_types: ["card"],
    line_items: items,
    mode: "payment",
    success_url: "http://localhost:3000/success",
    cancel_url: "http://localhost:3000/cancel",
  });
  return NextResponse.json({ url: session.url });
}
```

### üü° PayPal

- –ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è —Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤/–∞—Ä—Ç–∏—Å—Ç–æ–≤.
- –ï—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã ‚Üí –≤—Å—Ç–∞–≤–ª—è–µ—à—å –≤ checkout.

### üü† Web3 (–ø–æ–∑–∂–µ)

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Metamask, USDC/ETH –ø–ª–∞—Ç–µ–∂–µ–π.
- –î–ª—è —Ç–≤–æ–µ–π –∏–¥–µ–∏ —Å –¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–µ–π —ç—Ç–æ üîÆ, –Ω–æ –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—Ç–æ–º.

---

## üîπ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π flow –º–∞–≥–∞–∑–∏–Ω–∞

1. `/shop` ‚Üí —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤.
2. `/cart` ‚Üí –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å—Ç–µ–π—Ç (useState, Redux –∏–ª–∏ Zustand).
3. `/checkout` ‚Üí —Å–æ–∑–¥–∞—ë–º Stripe-—Å–µ—Å—Å–∏—é, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É.
4. `/success` ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã, —Å–æ–∑–¥–∞—ë–º –∑–∞–∫–∞–∑ –≤ –±–∞–∑–µ.

---
