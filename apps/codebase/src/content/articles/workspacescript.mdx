---
title: "–í—ã–Ω–æ—Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤ CDN"
category: "CDN"
---

### 1. –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ö—É–∫–∏ –∏ —Å—Ç–∏–ª–∏

```jsx
import { useEffect, useState } from "react";
import "./Workspace.css";
```

- `useState` ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (—Å–ø–∏—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, –∞–∫—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∏ —Ç.–ø.).
- `useEffect` ‚Äî –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ `localStorage`.
- `Workspace.css` ‚Äî —Ç–≤–æ–π —Ñ–∞–π–ª —Å—Ç–∏–ª–µ–π.

---

### 2. –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```jsx
const [scripts, setScripts] = useState({});
const [activeScript, setActiveScript] = useState(null);
const [categories, setCategories] = useState([]);
const [formData, setFormData] = useState({
  title: "",
  category: "",
  newCategory: "",
  text: "",
});
const [editing, setEditing] = useState(null);
```

- `scripts` ‚Äî –æ–±—ä–µ–∫—Ç —Å —Ç–≤–æ–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ (–∫–ª—é—á ‚Üí –æ–±—ä–µ–∫—Ç —Å title, text, category).
- `activeScript` ‚Äî id –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ.
- `categories` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è `<select>`.
- `formData` ‚Äî –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã ¬´–î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç¬ª.
- `editing` ‚Äî id —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–µ–π—á–∞—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º. –ï—Å–ª–∏ `null`, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Ç.

---

### 3. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ `localStorage`

```jsx
useEffect(() => {
  const saved = localStorage.getItem("scripts");
  if (saved) {
    setScripts(JSON.parse(saved));
  } else {
    const initial = {
      greeting: { ... },
      support: { ... },
    };
    setScripts(initial);
    localStorage.setItem("scripts", JSON.stringify(initial));
  }
}, []);
```

- –≠—Ç–æ—Ç `useEffect` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (`[]`).
- –ï—Å–ª–∏ –≤ `localStorage` —É–∂–µ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç—ã ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ–º.
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –∫–ª–∞–¥—ë–º —Ç—É–¥–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ.

---

### 4. –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

```jsx
useEffect(() => {
  localStorage.setItem("scripts", JSON.stringify(scripts));

  const cats = new Set(
    Object.values(scripts)
      .map((s) => s.category)
      .filter(Boolean),
  );
  setCategories([...cats].sort());
}, [scripts]);
```

- –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –º–µ–Ω—è–µ—Ç—Å—è `scripts`, –º—ã:

  1. —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ö –≤ `localStorage`;
  2. –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ–º —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π (`Set` –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã —É–±—Ä–∞—Ç—å –¥—É–±–ª–∏).

---

### 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞

```jsx
const handleAddScript = (e) => {
  e.preventDefault();

  const key = "script_" + Date.now();
  const category =
    formData.category === "__custom__"
      ? formData.newCategory.trim()
      : formData.category;

  setScripts((prev) => ({
    ...prev,
    [key]: {
      title: formData.title.trim(),
      text: formData.text.trim(),
      category,
    },
  }));

  setFormData({ title: "", category: "", newCategory: "", text: "" });
};
```

- `Date.now()` –≥–µ–Ω–µ—Ä–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á.
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª ¬´–î—Ä—É–≥–∞—è‚Ä¶¬ª ‚Üí –±–µ—Ä—ë–º –∏–∑ `newCategory`.
- `setScripts` –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –≤ —Å–ø–∏—Å–æ–∫.
- –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É.

---

### 6. –£–¥–∞–ª–µ–Ω–∏–µ

```jsx
const handleDelete = (key) => {
  if (window.confirm(`–£–¥–∞–ª–∏—Ç—å —Å–∫—Ä–∏–ø—Ç "${scripts[key].title}"?`)) {
    const updated = { ...scripts };
    delete updated[key];
    setScripts(updated);
    if (activeScript === key) setActiveScript(null);
  }
};
```

- –°–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
- –ö–æ–ø–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤, —É–¥–∞–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π.
- –ï—Å–ª–∏ —É–¥–∞–ª–∏–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã–π ‚Äî —Å–±—Ä–∞—Å—ã–≤–∞–µ–º `activeScript`.

---

### 7. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```jsx
const handleEditSave = (e, key) => {
  e.preventDefault();
  const form = e.target;
  const title = form.title.value.trim();
  const text = form.text.value.trim();

  setScripts((prev) => ({
    ...prev,
    [key]: { ...prev[key], title, text },
  }));

  setEditing(null);
};
```

- –ë–µ—Ä—ë–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- –û–±–Ω–æ–≤–ª—è–µ–º —Å–∫—Ä–∏–ø—Ç –≤ `scripts`.
- –°–±—Ä–∞—Å—ã–≤–∞–µ–º `editing`, —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É.

---

### 8. –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

```jsx
const grouped = {};
Object.entries(scripts).forEach(([key, script]) => {
  if (!grouped[script.category]) grouped[script.category] = [];
  grouped[script.category].push({ key, ...script });
});
```

- –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º `scripts` –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–∏–¥–∞:

```js
{
  "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ": [ { key, title, text, category }, ... ],
  "–í–æ–∑—Ä–∞–∂–µ–Ω–∏—è": [ ... ]
}
```

- –≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã –∫—Ä–∞—Å–∏–≤–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

---

### 9. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ JSX

```jsx
<div className="wrapper">
  {/* –°–ø–∏—Å–æ–∫ —Å–ª–µ–≤–∞ */}
  <div className="sidebar-left">
    {Object.entries(grouped).map(([category, items]) => (
      <div key={category}>
        <h3>{category}</h3>
        {items.map(({ key, title }) => (
          <div key={key} className={`script-item ${activeScript === key ? "active" : ""}`}>
            <button onClick={() => setActiveScript(key)}>{title}</button>
            <div className="actions">
              <button onClick={() => setEditing(key)}>‚úé</button>
              <button onClick={() => handleDelete(key)}>‚úï</button>
            </div>
            {editing === key && (
              <form onSubmit={(e) => handleEditSave(e, key)}>
                <input name="title" defaultValue={scripts[key].title} />
                <textarea name="text" defaultValue={scripts[key].text}></textarea>
                <button type="submit">üíæ</button>
                <button type="button" onClick={() => setEditing(null)}>–û—Ç–º–µ–Ω–∞</button>
              </form>
            )}
          </div>
        ))}
      </div>
    ))}
  </div>
```

- –û—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã.
- –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –≤—ã–±—Ä–∞–Ω ‚Üí –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º (`active`).
- –ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É.

---

### 10. –ö–æ–Ω—Ç–µ–Ω—Ç (–ø–æ —Ü–µ–Ω—Ç—Ä—É)

```jsx
<div className="content">
  {activeScript ? (
    <>
      <div className="script-title">{scripts[activeScript]?.title}</div>
      <div className="script-text">{scripts[activeScript]?.text}</div>
    </>
  ) : (
    <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç...</p>
  )}
</div>
```

- –ï—Å–ª–∏ –µ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ–≥–æ.
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Üí –ø–∏—à–µ–º ¬´–í—ã–±–µ—Ä–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç‚Ä¶¬ª.

---

### 11. –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (—Å–ø—Ä–∞–≤–∞)

```jsx
<div className="sidebar-right">
  <form onSubmit={handleAddScript}>
    <input
      type="text"
      placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ"
      value={formData.title}
      onChange={(e) => setFormData((f) => ({ ...f, title: e.target.value }))}
    />
    <select
      value={formData.category}
      onChange={(e) => setFormData((f) => ({ ...f, category: e.target.value }))}
    >
      <option value="" disabled>
        –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
      </option>
      {categories.map((cat) => (
        <option key={cat} value={cat}>
          {cat}
        </option>
      ))}
      <option value="__custom__">–î—Ä—É–≥–∞—è...</option>
    </select>
    {formData.category === "__custom__" && (
      <input
        type="text"
        placeholder="–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è"
        value={formData.newCategory}
        onChange={(e) =>
          setFormData((f) => ({ ...f, newCategory: e.target.value }))
        }
      />
    )}
    <textarea
      placeholder="–¢–µ–∫—Å—Ç —Å–∫—Ä–∏–ø—Ç–∞"
      value={formData.text}
      onChange={(e) => setFormData((f) => ({ ...f, text: e.target.value }))}
    ></textarea>
    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
  </form>
</div>
```

- –£–ø—Ä–∞–≤–ª—è–µ–º–∞—è —Ñ–æ—Ä–º–∞ (`value` + `onChange` ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `formData`).
- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–ª–∏ `"__custom__"` ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
- –ü—Ä–∏ `submit` ‚Üí –≤—ã–∑—ã–≤–∞–µ–º `handleAddScript`.
